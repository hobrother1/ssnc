<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMR ìŠ¤ë§ˆíŠ¸ ë„·ì œë¡œ ì‹œí‹°</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter í°íŠ¸ ì ìš© */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* ë°ì€ íšŒìƒ‰ ë°°ê²½ */
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden; /* ìŠ¤í¬ë¡¤ ë°©ì§€ */
        }

        .game-container {
            width: 100%;
            max-width: 800px; /* ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
            height: 90vh; /* í™”ë©´ ë†’ì´ì˜ 90% */
            max-height: 700px; /* ìµœëŒ€ ë†’ì´ ì„¤ì • */
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  í™”ë©´ ìˆ¨ê¹€ */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity 0.5s ease-in-out;
            opacity: 0;
        }

        .screen.active {
            display: flex;
            opacity: 1;
        }

        /* ë©”ì¸ ë§µ ìŠ¤íƒ€ì¼ */
        #main-map-screen .map-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2x2 ê·¸ë¦¬ë“œ (ë°œì „, ìƒì—…, ë„ì‹œ, ë¹ˆì¹¸) */
            grid-template-rows: repeat(2, 1fr);
            gap: 20px;
            width: 90%;
            height: 70%;
            max-width: 600px;
            max-height: 500px;
        }

        .map-zone {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #e2e8f0; /* êµ¬ì—­ ë°°ê²½ìƒ‰ */
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            padding: 15px;
            text-align: center;
        }

        .map-zone:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .map-zone-icon {
            font-size: 3rem; /* ì•„ì´ì½˜ í¬ê¸° */
            margin-bottom: 10px;
        }

        .map-zone-title {
            font-size: 1.25rem; /* ì œëª© í¬ê¸° */
            font-weight: 600;
            color: #2d3748;
        }

        /* ê° êµ¬ì—­ ìƒì„¸ í™”ë©´ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .zone-header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 20px;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 20px;
        }

        .zone-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2c5282;
        }

        .stats-bar {
            display: flex;
            gap: 20px;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 1rem;
            color: #4a5568;
        }

        .stat-value {
            font-weight: 700;
            color: #2d3748;
            font-size: 1.1rem;
        }

        .zone-content {
            width: 100%;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            overflow-y: auto; /* ë‚´ìš©ì´ ê¸¸ì–´ì§€ë©´ ìŠ¤í¬ë¡¤ */
            padding-top: 10px;
        }

        .action-button {
            background-color: #4299e1; /* íŒŒë€ìƒ‰ ë²„íŠ¼ */
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            font-weight: 600;
            transition: background-color 0.2s ease, transform 0.1s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin: 10px;
            cursor: pointer;
            border: none;
        }

        .action-button:hover {
            background-color: #3182ce;
            transform: translateY(-2px);
        }

        .action-button:active {
            transform: translateY(0);
            box-shadow: none;
        }

        .back-button {
            background-color: #a0aec0; /* íšŒìƒ‰ ë²„íŠ¼ */
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            transition: background-color 0.2s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
            cursor: pointer;
            border: none;
        }

        .back-button:hover {
            background-color: #718096;
        }

        /* ë°œì „ êµ¬ì—­ íŠ¹ì • ìŠ¤íƒ€ì¼ */
        .power-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
        }

        .power-plant-slot {
            background-color: #edf2f7;
            border: 2px dashed #cbd5e0;
            border-radius: 8px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #718096;
            font-size: 0.9rem;
            text-align: center;
        }

        .power-plant-slot.occupied {
            background-color: #90cdf4; /* ë°œì „ì†Œ ê±´ì„¤ ì‹œ ìƒ‰ìƒ */
            border: 2px solid #4299e1;
            color: #2b6cb0;
            font-weight: 600;
        }

        /* ìƒì—… êµ¬ì—­ íŠ¹ì • ìŠ¤íƒ€ì¼ */
        .commercial-sections {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
            max-width: 600px;
        }

        .commercial-card {
            background-color: #e6fffa; /* ì—°í•œ ì²­ë¡ìƒ‰ */
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .commercial-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c7a7b;
            margin-bottom: 10px;
        }

        /* ë„ì‹œ êµ¬ì—­ íŠ¹ì • ìŠ¤íƒ€ì¼ */
        .city-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 10px;
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
            min-height: 200px;
            background-color: #d1fae5; /* ì—°í•œ ë…¹ìƒ‰ ë„ì‹œ ë°°ê²½ */
            border-radius: 15px;
            padding: 15px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
        }

        .city-plot {
            background-color: #a7f3d0; /* ë¹ˆ ë•… ìƒ‰ìƒ */
            border-radius: 5px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: #10b981;
            cursor: pointer;
            transition: background-color 0.1s ease;
        }

        .city-plot:hover {
            background-color: #6ee7b7;
        }

        .city-plot.house {
            background-color: #fbd38d; /* ì§‘ ìƒ‰ìƒ */
            color: #975a16;
            font-weight: 600;
        }

        .city-plot.park {
            background-color: #9ae6b4; /* ê³µì› ìƒ‰ìƒ */
            color: #2f855a;
            font-weight: 600;
        }

        /* ë¡œë”© ìŠ¤í”¼ë„ˆ (ì´ë¯¸ì§€ ìƒì„± ëŒ€ì²´) */
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #4299e1;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- ì´ˆê¸° í™”ë©´: ì „ì²´ ë§µ -->
        <div id="main-map-screen" class="screen active">
            <div class="loading-spinner"></div>
            <h1 class="text-4xl font-bold mb-8 text-blue-800">SMR ìŠ¤ë§ˆíŠ¸ ë„·ì œë¡œ ì‹œí‹°</h1>
            <p class="text-lg text-gray-600 mb-10">ì›í•˜ëŠ” êµ¬ì—­ì„ ì„ íƒí•˜ì—¬ ë„ì‹œë¥¼ ê±´ì„¤í•˜ê³  ì„±ì¥ì‹œí‚¤ì„¸ìš”!</p>
            <div class="map-grid">
                <div id="power-zone" class="map-zone bg-blue-100" data-target="power-zone-screen">
                    <span class="map-zone-icon">âš¡</span>
                    <span class="map-zone-title">ë°œì „ êµ¬ì—­</span>
                    <p class="text-sm text-gray-500 mt-2">ì „ë ¥ ìƒì‚° ë° ì‹œì„¤ ê´€ë¦¬</p>
                </div>
                <div id="commercial-zone" class="map-zone bg-green-100" data-target="commercial-zone-screen">
                    <span class="map-zone-icon">ğŸ’°</span>
                    <span class="map-zone-title">ìƒì—… êµ¬ì—­</span>
                    <p class="text-sm text-gray-500 mt-2">ì „ë ¥ íŒë§¤ ë° ê¸°ìˆ  ì—°êµ¬</p>
                </div>
                <div id="city-zone" class="map-zone bg-yellow-100" data-target="city-zone-screen">
                    <span class="map-zone-icon">ğŸ¡</span>
                    <span class="map-zone-title">ë„ì‹œ êµ¬ì—­</span>
                    <p class="text-sm text-gray-500 mt-2">ë„ì‹œ ê±´ì„¤ ë° ì„±ì¥</p>
                </div>
                <!-- ë¹ˆ ê³µê°„ ë˜ëŠ” ì •ë³´ í‘œì‹œìš© (ì„ íƒì‚¬í•­) -->
                <div class="map-zone bg-gray-100 cursor-default">
                    <span class="map-zone-icon text-gray-400">ğŸ“Š</span>
                    <span class="map-zone-title text-gray-500">í†µê³„ ë° ì •ë³´</span>
                    <p class="text-sm text-gray-400 mt-2">ì´ ìì‚°, ì¸êµ¬ ë“±</p>
                </div>
            </div>
        </div>

        <!-- ìƒì„¸ êµ¬ì—­: ë°œì „ êµ¬ì—­ -->
        <div id="power-zone-screen" class="screen">
            <div class="zone-header">
                <h2 class="zone-title">ë°œì „ êµ¬ì—­</h2>
                <div class="stats-bar">
                    <div class="stat-item">
                        <span>ìê¸ˆ</span>
                        <span id="power-money" class="stat-value">$1,000,000</span>
                    </div>
                    <div class="stat-item">
                        <span>ì—ë„ˆì§€ ìƒì‚°</span>
                        <span id="power-energy" class="stat-value">1000 MW</span>
                    </div>
                    <div class="stat-item">
                        <span>ì—°êµ¬ í¬ì¸íŠ¸</span>
                        <span id="power-research" class="stat-value">500 RP</span>
                    </div>
                </div>
            </div>
            <div class="zone-content">
                <p class="text-lg text-gray-700 mb-5">ë°œì „ ì‹œì„¤ì„ ê±´ì„¤í•˜ê³  ì—…ê·¸ë ˆì´ë“œí•˜ì—¬ ì—ë„ˆì§€ë¥¼ ìƒì‚°í•˜ì„¸ìš”.</p>
                <div class="power-grid">
                    <!-- ë°œì „ì†Œ ìŠ¬ë¡¯ ì˜ˆì‹œ -->
                    <div class="power-plant-slot">ë¹ˆ ìŠ¬ë¡¯</div>
                    <div class="power-plant-slot">ë¹ˆ ìŠ¬ë¡¯</div>
                    <div class="power-plant-slot occupied">SMR (Lv.1)</div>
                    <div class="power-plant-slot">ë¹ˆ ìŠ¬ë¡¯</div>
                    <div class="power-plant-slot">ë¹ˆ ìŠ¬ë¡¯</div>
                    <div class="power-plant-slot">ë¹ˆ ìŠ¬ë¡¯</div>
                </div>
                <div class="flex flex-wrap justify-center mt-5">
                    <button class="action-button" onclick="buildPowerPlant()">SMR ê±´ì„¤ ($500,000)</button>
                    <button class="action-button" onclick="upgradePowerPlant()">ë°œì „ì†Œ ì—…ê·¸ë ˆì´ë“œ</button>
                    <button class="action-button" onclick="researchPowerTech()">ìƒˆ ê¸°ìˆ  ì—°êµ¬</button>
                </div>
            </div>
            <button class="back-button" data-target="main-map-screen">ë§µìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>

        <!-- ìƒì„¸ êµ¬ì—­: ìƒì—… êµ¬ì—­ -->
        <div id="commercial-zone-screen" class="screen">
            <div class="zone-header">
                <h2 class="zone-title">ìƒì—… êµ¬ì—­</h2>
                <div class="stats-bar">
                    <div class="stat-item">
                        <span>ìê¸ˆ</span>
                        <span id="commercial-money" class="stat-value">$1,000,000</span>
                    </div>
                    <div class="stat-item">
                        <span>ì—ë„ˆì§€ íŒë§¤</span>
                        <span id="commercial-sales" class="stat-value">500 MW/h</span>
                    </div>
                    <div class="stat-item">
                        <span>ê¸°ìˆ  ë ˆë²¨</span>
                        <span id="commercial-tech" class="stat-value">Lv. 3</span>
                    </div>
                </div>
            </div>
            <div class="zone-content">
                <p class="text-lg text-gray-700 mb-5">ìƒì‚°ëœ ì—ë„ˆì§€ë¥¼ íŒë§¤í•˜ê³ , ìƒˆë¡œìš´ ê¸°ìˆ ì„ ê°œë°œí•˜ì„¸ìš”.</p>
                <div class="commercial-sections">
                    <div class="commercial-card bg-teal-100">
                        <h3>ì—ë„ˆì§€ íŒë§¤</h3>
                        <p class="text-gray-600 mb-3">í˜„ì¬ ì—ë„ˆì§€ ê°€ê²©: $0.15/MW</p>
                        <button class="action-button bg-teal-600 hover:bg-teal-700" onclick="sellEnergy()">ì—ë„ˆì§€ íŒë§¤</button>
                    </div>
                    <div class="commercial-card bg-purple-100">
                        <h3>ê¸°ìˆ  ë°œì „</h3>
                        <p class="text-gray-600 mb-3">ë‹¤ìŒ ì—°êµ¬: ìŠ¤ë§ˆíŠ¸ ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ (1000 RP)</p>
                        <button class="action-button bg-purple-600 hover:bg-purple-700" onclick="developTech()">ê¸°ìˆ  ê°œë°œ</button>
                    </div>
                    <div class="commercial-card bg-orange-100">
                        <h3>ì‹œì¥ ë™í–¥</h3>
                        <p class="text-gray-600">ìˆ˜ìš” ì¦ê°€ ì˜ˆìƒ: +10%</p>
                    </div>
                </div>
            </div>
            <button class="back-button" data-target="main-map-screen">ë§µìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>

        <!-- ìƒì„¸ êµ¬ì—­: ë„ì‹œ êµ¬ì—­ -->
        <div id="city-zone-screen" class="screen">
            <div class="zone-header">
                <h2 class="zone-title">ë„ì‹œ êµ¬ì—­</h2>
                <div class="stats-bar">
                    <div class="stat-item">
                        <span>ìê¸ˆ</span>
                        <span id="city-money" class="stat-value">$1,000,000</span>
                    </div>
                    <div class="stat-item">
                        <span>ì¸êµ¬</span>
                        <span id="city-population" class="stat-value">10,000 ëª…</span>
                    </div>
                    <div class="stat-item">
                        <span>í–‰ë³µë„</span>
                        <span id="city-happiness" class="stat-value">85%</span>
                    </div>
                </div>
            </div>
            <div class="zone-content">
                <p class="text-lg text-gray-700 mb-5">ë°œì „ê³¼ ìƒì—…ìœ¼ë¡œ ì–»ì€ ë¦¬ì›Œë“œë¡œ ë„ì‹œë¥¼ ê¾¸ë¯¸ê³  ì„±ì¥ì‹œí‚¤ì„¸ìš”.</p>
                <div class="city-grid">
                    <!-- ë„ì‹œ ê±´ì„¤ ìŠ¬ë¡¯ ì˜ˆì‹œ -->
                    <div class="city-plot">ë¹ˆ ë•…</div>
                    <div class="city-plot house">ì§‘</div>
                    <div class="city-plot">ë¹ˆ ë•…</div>
                    <div class="city-plot park">ê³µì›</div>
                    <div class="city-plot">ë¹ˆ ë•…</div>
                    <div class="city-plot">ë¹ˆ ë•…</div>
                    <div class="city-plot">ë¹ˆ ë•…</div>
                    <div class="city-plot">ë¹ˆ ë•…</div>
                    <div class="city-plot">ë¹ˆ ë•…</div>
                </div>
                <div class="flex flex-wrap justify-center mt-5">
                    <button class="action-button" onclick="buildHouse()">ì§‘ ê±´ì„¤ ($100,000)</button>
                    <button class="action-button" onclick="buildPark()">ê³µì› ê±´ì„¤ ($50,000)</button>
                    <button class="action-button" onclick="upgradeCity()">ë„ì‹œ ì—…ê·¸ë ˆì´ë“œ</button>
                </div>
            </div>
            <button class="back-button" data-target="main-map-screen">ë§µìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>
    </div>

    <script>
        // í˜„ì¬ í™œì„±í™”ëœ í™”ë©´ ID
        let currentScreenId = 'main-map-screen';

        // í™”ë©´ ì „í™˜ í•¨ìˆ˜
        function showScreen(screenId) {
            const currentScreen = document.getElementById(currentScreenId);
            const nextScreen = document.getElementById(screenId);

            if (currentScreen) {
                currentScreen.classList.remove('active');
                // ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´ ì ì‹œ ê¸°ë‹¤ë¦¼
                setTimeout(() => {
                    currentScreen.style.display = 'none';
                }, 500); // CSS transition durationê³¼ ì¼ì¹˜
            }

            if (nextScreen) {
                nextScreen.style.display = 'flex'; // ë¨¼ì € flexë¡œ ì„¤ì •í•˜ì—¬ ë ˆì´ì•„ì›ƒ ê³„ì‚°
                setTimeout(() => {
                    nextScreen.classList.add('active');
                }, 10); // ì§§ì€ ì§€ì—°ìœ¼ë¡œ transition íŠ¸ë¦¬ê±°
                currentScreenId = screenId;
            }
        }

        // ì´ˆê¸° ë§µ êµ¬ì—­ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.querySelectorAll('.map-zone').forEach(zone => {
            zone.addEventListener('click', (event) => {
                const targetScreenId = event.currentTarget.dataset.target;
                if (targetScreenId) {
                    showScreen(targetScreenId);
                }
            });
        });

        // 'ë§µìœ¼ë¡œ ëŒì•„ê°€ê¸°' ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.querySelectorAll('.back-button').forEach(button => {
            button.addEventListener('click', (event) => {
                const targetScreenId = event.currentTarget.dataset.target;
                if (targetScreenId) {
                    showScreen(targetScreenId);
                }
            });
        });

        // --- ê° êµ¬ì—­ë³„ ì‹œë®¬ë ˆì´ì…˜ í•¨ìˆ˜ (ì‹¤ì œ ê²Œì„ ë¡œì§ì€ ì•„ë‹˜, UI ì—…ë°ì´íŠ¸ ì˜ˆì‹œ) ---

        // ë°œì „ êµ¬ì—­ í•¨ìˆ˜
        function buildPowerPlant() {
            const powerMoney = document.getElementById('power-money');
            let currentMoney = parseInt(powerMoney.textContent.replace(/[^0-9]/g, ''));
            if (currentMoney >= 500000) {
                currentMoney -= 500000;
                powerMoney.textContent = `$${currentMoney.toLocaleString()}`;
                const powerEnergy = document.getElementById('power-energy');
                let currentEnergy = parseInt(powerEnergy.textContent.replace(/[^0-9]/g, ''));
                currentEnergy += 500; // ì—ë„ˆì§€ ìƒì‚°ëŸ‰ ì¦ê°€
                powerEnergy.textContent = `${currentEnergy} MW`;

                // ë¹ˆ ìŠ¬ë¡¯ì— ë°œì „ì†Œ ê±´ì„¤ ì‹œë®¬ë ˆì´ì…˜
                const emptySlot = document.querySelector('.power-plant-slot:not(.occupied)');
                if (emptySlot) {
                    emptySlot.classList.add('occupied');
                    emptySlot.textContent = 'SMR (Lv.1)';
                    showMessage('SMRì´ ê±´ì„¤ë˜ì—ˆìŠµë‹ˆë‹¤!');
                } else {
                    showMessage('ë” ì´ìƒ ê±´ì„¤í•  ê³µê°„ì´ ì—†ìŠµë‹ˆë‹¤!');
                }
            } else {
                showMessage('ìê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤!');
            }
        }

        function upgradePowerPlant() {
            showMessage('ë°œì „ì†Œë¥¼ ì—…ê·¸ë ˆì´ë“œí–ˆìŠµë‹ˆë‹¤! (ê¸°ëŠ¥ ë¯¸êµ¬í˜„)');
        }

        function researchPowerTech() {
            showMessage('ìƒˆë¡œìš´ ë°œì „ ê¸°ìˆ ì„ ì—°êµ¬í–ˆìŠµë‹ˆë‹¤! (ê¸°ëŠ¥ ë¯¸êµ¬í˜„)');
        }

        // ìƒì—… êµ¬ì—­ í•¨ìˆ˜
        function sellEnergy() {
            const commercialMoney = document.getElementById('commercial-money');
            let currentMoney = parseInt(commercialMoney.textContent.replace(/[^0-9]/g, ''));
            const commercialSales = document.getElementById('commercial-sales');
            let currentSales = parseInt(commercialSales.textContent.replace(/[^0-9]/g, ''));

            const earnedMoney = currentSales * 0.15; // ê°„ë‹¨í•œ íŒë§¤ ìˆ˜ìµ ê³„ì‚°
            currentMoney += earnedMoney;
            commercialMoney.textContent = `$${Math.round(currentMoney).toLocaleString()}`;
            showMessage(`ì—ë„ˆì§€ë¥¼ íŒë§¤í•˜ì—¬ $${Math.round(earnedMoney).toLocaleString()}ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤!`);
        }

        function developTech() {
            showMessage('ê¸°ìˆ ì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤! (ê¸°ëŠ¥ ë¯¸êµ¬í˜„)');
        }

        // ë„ì‹œ êµ¬ì—­ í•¨ìˆ˜
        function buildHouse() {
            const cityMoney = document.getElementById('city-money');
            let currentMoney = parseInt(cityMoney.textContent.replace(/[^0-9]/g, ''));
            if (currentMoney >= 100000) {
                currentMoney -= 100000;
                cityMoney.textContent = `$${currentMoney.toLocaleString()}`;
                const cityPopulation = document.getElementById('city-population');
                let currentPopulation = parseInt(cityPopulation.textContent.replace(/[^0-9]/g, ''));
                currentPopulation += 100; // ì¸êµ¬ ì¦ê°€
                cityPopulation.textContent = `${currentPopulation.toLocaleString()} ëª…`;

                // ë¹ˆ ë•…ì— ì§‘ ê±´ì„¤ ì‹œë®¬ë ˆì´ì…˜
                const emptyPlot = document.querySelector('.city-plot:not(.house):not(.park)');
                if (emptyPlot) {
                    emptyPlot.classList.add('house');
                    emptyPlot.textContent = 'ì§‘';
                    showMessage('ì§‘ì´ ê±´ì„¤ë˜ì—ˆìŠµë‹ˆë‹¤!');
                } else {
                    showMessage('ë” ì´ìƒ ê±´ì„¤í•  ê³µê°„ì´ ì—†ìŠµë‹ˆë‹¤!');
                }
            } else {
                showMessage('ìê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤!');
            }
        }

        function buildPark() {
            const cityMoney = document.getElementById('city-money');
            let currentMoney = parseInt(cityMoney.textContent.replace(/[^0-9]/g, ''));
            if (currentMoney >= 50000) {
                currentMoney -= 50000;
                cityMoney.textContent = `$${currentMoney.toLocaleString()}`;
                const cityHappiness = document.getElementById('city-happiness');
                let currentHappiness = parseInt(cityHappiness.textContent.replace(/[^0-9]/g, ''));
                currentHappiness = Math.min(100, currentHappiness + 5); // í–‰ë³µë„ ì¦ê°€ (ìµœëŒ€ 100)
                cityHappiness.textContent = `${currentHappiness}%`;

                // ë¹ˆ ë•…ì— ê³µì› ê±´ì„¤ ì‹œë®¬ë ˆì´ì…˜
                const emptyPlot = document.querySelector('.city-plot:not(.house):not(.park)');
                if (emptyPlot) {
                    emptyPlot.classList.add('park');
                    emptyPlot.textContent = 'ê³µì›';
                    showMessage('ê³µì›ì´ ê±´ì„¤ë˜ì—ˆìŠµë‹ˆë‹¤!');
                } else {
                    showMessage('ë” ì´ìƒ ê±´ì„¤í•  ê³µê°„ì´ ì—†ìŠµë‹ˆë‹¤!');
                }
            } else {
                showMessage('ìê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤!');
            }
        }

        function upgradeCity() {
            showMessage('ë„ì‹œê°€ ì—…ê·¸ë ˆì´ë“œë˜ì—ˆìŠµë‹ˆë‹¤! (ê¸°ëŠ¥ ë¯¸êµ¬í˜„)');
        }

        // ë©”ì‹œì§€ ë°•ìŠ¤ í‘œì‹œ í•¨ìˆ˜ (alert ëŒ€ì‹  ì‚¬ìš©)
        function showMessage(message) {
            let messageBox = document.getElementById('message-box');
            if (!messageBox) {
                messageBox = document.createElement('div');
                messageBox.id = 'message-box';
                messageBox.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background-color: rgba(0, 0, 0, 0.7);
                    color: white;
                    padding: 10px 20px;
                    border-radius: 8px;
                    z-index: 1000;
                    opacity: 0;
                    transition: opacity 0.5s ease-in-out;
                    font-size: 1rem;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                `;
                document.body.appendChild(messageBox);
            }
            messageBox.textContent = message;
            messageBox.style.opacity = 1;
            setTimeout(() => {
                messageBox.style.opacity = 0;
            }, 3000); // 3ì´ˆ í›„ ì‚¬ë¼ì§
        }

        // ì´ˆê¸° ë¡œë”© ìŠ¤í”¼ë„ˆ ìˆ¨ê¸°ê¸°
        window.onload = function() {
            const spinner = document.querySelector('.loading-spinner');
            if (spinner) {
                spinner.style.display = 'none';
            }
        };
    </script>
</body>
</html>

